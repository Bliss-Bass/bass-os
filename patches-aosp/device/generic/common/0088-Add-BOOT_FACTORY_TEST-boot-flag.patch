From 81afa47370743be2e2da2cb17b1502e5265af2fe Mon Sep 17 00:00:00 2001
From: electrikjesus <electrikjesus@gmail.com>
Date: Wed, 21 Feb 2024 14:38:13 -0500
Subject: [PATCH 088/105] Add BOOT_FACTORY_TEST boot flag

---
 init.sh | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/init.sh b/init.sh
index 3b947b5..6c41944 100644
--- a/init.sh
+++ b/init.sh
@@ -1537,6 +1537,12 @@ for c in `cat /proc/cmdline`; do
 						# Force hw timeout multiplier, # X 5s
 						# options: (integer)
 						set_property ro.hw_timeout_multiplier "$FORCE_HW_TIMEOUT_MULTIPLIER"
+						;;
+					BOOT_FACTORY_TEST=*)
+						# Boot into factory test mode
+						# options: 0, 1
+						set_property ro.factorytest "$BOOT_FACTORY_MODE"
+						;;
 				esac
 				[ "$SETUPWIZARD" = "0" ] && set_property ro.setupwizard.mode DISABLED
 			fi
-- 
2.34.1

