From 390c50e76bb6568d9affbf9a8516f8a3f5d74c64 Mon Sep 17 00:00:00 2001
From: electrikjesus <electrikjesus@gmail.com>
Date: Wed, 6 Mar 2024 15:56:43 -0500
Subject: [PATCH 11/11] Use signing keys on production builds

requires release/product/test key signatures to be generated
---
 config/versions.mk | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

diff --git a/config/versions.mk b/config/versions.mk
index 9ad3db8e..2a1e87b3 100644
--- a/config/versions.mk
+++ b/config/versions.mk
@@ -5,6 +5,20 @@ BLISS_VERSION_MINOR = 9
 BLISS_CODENAME = Arcadia
 #BLISS_VERSION_MAINTENANCE = Beta
 
+ifeq ($(BLISS_PRODUCTION_BUILD),true)
+# Flavor and signing
+
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.bliss.releasetype=RELEASE \
+
+SIGNING_KEYS := vendor/bliss/config/signing
+
+PRODUCT_DEFAULT_DEV_CERTIFICATE := vendor/bliss/config/signing/releasekey
+PRODUCT_OTA_PUBLIC_KEYS := vendor/bliss/config/signing/platform
+PRODUCT_EXTRA_RECOVERY_KEYS := vendor/bliss/config/signing/platform
+
+endif
+
 ifneq ($(SIGNING_KEYS),)
     PRODUCT_DEFAULT_DEV_CERTIFICATE := $(SIGNING_KEYS)/releasekey
 endif
-- 
2.34.1

